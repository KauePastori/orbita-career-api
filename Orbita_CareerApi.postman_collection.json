{
  "info": {
    "name": "ORBITA Career API - GS Futuro do Trabalho",
    "_postman_id": "b3a56f3a-0000-0000-0000-orbita-gs",
    "description": "Collection para testar automaticamente a ORBITA Career API (Global Solution - Futuro do Trabalho).",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://localhost:7180",
      "type": "string"
    },
    {
      "key": "careerPathId",
      "value": "",
      "type": "string"
    },
    {
      "key": "missionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "progressId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "01 - Criar CareerPath",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/v1/CareerPaths",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "CareerPaths"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"id\": \"00000000-0000-0000-0000-000000000000\",\n  \"name\": \"Arquiteto de IA Ética\",\n  \"area\": \"Inteligência Artificial\",\n  \"description\": \"Profissional que desenha soluções de IA com foco em ética e responsabilidade.\",\n  \"level\": \"Intermediário\",\n  \"missions\": []\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});",
              "",
              "var json = pm.response.json();",
              "pm.collectionVariables.set(\"careerPathId\", json.id);",
              "console.log(\"CareerPathId salvo:\", json.id);"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "02 - Listar CareerPaths",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/CareerPaths",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "CareerPaths"
          ]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "03 - Criar Mission para CareerPath",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/v1/Missions",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "Missions"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"id\": \"00000000-0000-0000-0000-000000000000\",\n  \"careerPathId\": \"{{careerPathId}}\",\n  \"title\": \"Missão 1 - Detectar vieses em IA\",\n  \"description\": \"Analisar um caso real e identificar possíveis vieses em um modelo de IA.\",\n  \"type\": \"Estudo\",\n  \"difficulty\": 2,\n  \"estimatedMinutes\": 40,\n  \"xpReward\": 100\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});",
              "",
              "var json = pm.response.json();",
              "pm.collectionVariables.set(\"missionId\", json.id);",
              "console.log(\"MissionId salvo:\", json.id);"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "04 - Listar Missions por CareerPath",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/Missions?careerPathId={{careerPathId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "Missions"
          ],
          "query": [
            {
              "key": "careerPathId",
              "value": "{{careerPathId}}"
            }
          ]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "05 - Criar User (Kaue)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/v1/Users",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "Users"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"id\": \"00000000-0000-0000-0000-000000000000\",\n  \"name\": \"Kaue\",\n  \"email\": \"kaue@example.com\",\n  \"currentRole\": \"Estudante de Eng. de Software\",\n  \"weeklyAvailableHours\": 10\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});",
              "",
              "var json = pm.response.json();",
              "pm.collectionVariables.set(\"userId\", json.id);",
              "console.log(\"UserId salvo:\", json.id);"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "06 - Criar Progress (User inicia Missão)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/v1/Progress",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "Progress"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"id\": \"00000000-0000-0000-0000-000000000000\",\n  \"userId\": \"{{userId}}\",\n  \"missionId\": \"{{missionId}}\",\n  \"status\": \"EmAndamento\",\n  \"completedAt\": null\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});",
              "",
              "var json = pm.response.json();",
              "pm.collectionVariables.set(\"progressId\", json.id);",
              "console.log(\"ProgressId salvo:\", json.id);"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "07 - Concluir Progress (User conclui Missão)",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/v1/Progress/{{progressId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "Progress",
            "{{progressId}}"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"id\": \"{{progressId}}\",\n  \"userId\": \"{{userId}}\",\n  \"missionId\": \"{{missionId}}\",\n  \"status\": \"Concluída\",\n  \"completedAt\": \"2025-11-13T21:00:00Z\"\n}"
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code 204\", function () {",
              "    pm.response.to.have.status(204);",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "08 - Listar Progress do User",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/Progress?userId={{userId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "Progress"
          ],
          "query": [
            {
              "key": "userId",
              "value": "{{userId}}"
            }
          ]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    }
  ]
}
